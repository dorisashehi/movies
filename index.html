<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script></script>

    <script>


        const API_URL = "https://api.themoviedb.org/3";
        const API_KEY = "9a5d0091d911bfa128e05a000c8649b8";
        const API_TOKEN = "eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5YTVkMDA5MWQ5MTFiZmExMjhlMDVhMDAwYzg2NDliOCIsInN1YiI6IjY1ZmIyYWZhMDQ3MzNmMDE3ZGU2ZGY4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.RihNpqbk-PQHO__N4MccHuW9RJiPSMhJvE0Zz_UHESs";


        function getMovieContent(movie) {
            return(
                `
                    <div>
                        <div>${movie.overview}</div>
                    </div>
                `
            )
        }

        async function getMovies(){

            let movies = [];

            try{
                let movieElement = document.getElementById('movies');
                console.log(movieElement);
                let response  = await fetch(`${API_URL}/trending/all/day?api_key=${API_KEY}`);
                let data = await response.json();
                movies = data?.results
                document.getElementById('movies').innerHTML = movies.map((movie) => getMovieContent(movie)).join(' ');

            }catch(error){
                console.error('Error fetching movies:', error);
            }


        }
        getMovies();


    </script>
</head>
<body>
    <h1>Movies</h1>
    <div id="movies"></div>
</body>
</html>